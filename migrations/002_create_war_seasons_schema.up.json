[
	{
		"collMod": "war_seasons",
		"validator": {
			"$jsonSchema": {
				"title": "Global overview of the war, it's planets, capitals etc",
				"properties": {
					"_id": {
						"bsonType": "int",
						"description": "The identifier for this war, taken directly from the API"
					},
					"capitals": {
						"bsonType": "array",
						"description": "Empty, not mapped yet",
						"items": {
							"bsonType": "int"
						}
					},
					"planet_permanent_effects": {
						"bsonType": "array",
						"description": "Empty, not mapped yet",
						"items": {
							"bsonType": "string"
						}
					},
					"start_date": {
						"bsonType": "date",
						"description": "When this war season was started"
					},
					"end_date": {
						"bsonType": "date",
						"description": "When this war season is scheduled to end"
					},
					"planets": {
						"bsonType": "array",
						"description": "All planets present in this war season",
						"items": {
							"bsonType": "object",
							"properties": {
								"_id": {
									"bsonType": "int",
									"description": "The index of this planet, for convenience kept the same as in the official API"
								},
								"name": {
									"bsonType": "string",
									"description": "The human readable name of the planet, or unknown if it's not a known name"
								},
								"disabled": {
									"bsonType": "bool",
									"description": "Whether or not this planet is currently playable (enabled)"
								},
								"initial_owner": {
									"bsonType": "string",
									"description": "Which faction originally claimed this planet"
								},
								"max_health": {
									"bsonType": "double",
									"description": "Maximum health of this planet, used in conflict states"
								},
								"position": {
									"bsonType": "object",
									"description": "The coordinates in the galaxy where this planet is located",
									"properties": {
										"x": {
											"bsonType": "int",
											"description": "X coordinate"
										},
										"y": {
											"bsonType": "int",
											"description": "Y coordinate"
										}
									},
									"required": [
										"x",
										"y"
									]
								},
								"sector": {
									"bsonType": "string",
									"description": "The name of the sector this planet resides in (or the identifier as a string if it's not a known sector)"
								},
								"waypoints": {
									"bsonType": "array",
									"description": "Waypoints, seems to link planets together but purpose unclear",
									"items": {
										"bsonType": "int"
									}
								},
								"history": {
									"bsonType": "array",
									"description": "Planet status change over time during a war",
									"items": {
										"bsonType": "object",
										"properties": {
											"_id": {
												"bsonType": "date",
												"description": "Time at which this status was retrieved from the API"
											},
											"health": {
												"bsonType": "double",
												"description": "The current 'health' of this planet"
											},
											"liberation": {
												"bsonType": "double",
												"description": "The progression of liberation on this planet, presented as a %"
											},
											"owner": {
												"bsonType": "string",
												"description": "The faction that owns the planet at this moment"
											},
											"players": {
												"bsonType": "int",
												"description": "The amount of helldivers currently on this planet"
											},
											"regen_per_second": {
												"bsonType": "double",
												"description": "At which rate this planet will regenerate it's health"
											},
											"attack_targets": {
												"bsonType": "array",
												"description": "Planets being currently attacked from this planet",
												"items": {
													"bsonType": "int"
												}
											},
											"campaign": {
												"bsonType": "object",
												"description": "active campaign on this planet (optional)",
												"properties": {
													"count": {
														"bsonType": "int",
														"description": "not sure what this counts, it's generally a low number"
													},
													"type": {
														"bsonType": "int",
														"description": "The type of this campaign, haven't found out what they mean yet"
													}
												},
												"required": [
													"count",
													"type"
												]
											}
										},
										"required": [
											"_id",
											"health",
											"liberation",
											"owner",
											"players",
											"regen_per_second",
											"attack_targets"
										]
									}
								}
							},
							"required": [
								"_id",
								"name",
								"disabled",
								"initial_owner",
								"max_health",
								"position",
								"sector",
								"waypoints",
								"history"
							]
						}
					},
					"history": {
						"bsonType": "array",
						"description": "War season change over time",
						"items": {
							"bsonType": "object",
							"properties": {
								"_id": {
									"bsonType": "date",
									"description": "Time at which this status was retrieved from the API"
								},
								"active_election_policy_effects": {
									"bsonType": "array",
									"description": "Always empty AFAIK, haven't figured this out",
									"items": {
										"bsonType": "int"
									}
								},
								"community_targets": {
									"bsonType": "array",
									"description": "Always empty AFAIK, haven't figured this out",
									"items": {
										"bsonType": "int"
									}
								},
								"impact_multiplier": {
									"bsonType": "double",
									"description": "I don't fully understand what this does, feel free to ping me if you know"
								},
								"global_events": {
									"bsonType": "array",
									"description": "Currently active global event, past and present",
									"items": {
										"bsonType": "object",
										"description": "contains information about a global event, past and present",
										"properties": {
											"title": {
												"bsonType": "string",
												"description": "The title of the global event, appears to be more a status than an actual title"
											},
											"effects": {
												"bsonType": "array",
												"description": "A list of effects, usually strategems or bonuses",
												"items": {
													"bsonType": "string"
												}
											},
											"planet_ids": {
												"bsonType": "array",
												"description": "Planets affected by this event",
												"items": {
													"bsonType": "int"
												}
											},
											"race": {
												"bsonType": "string",
												"description": "The race involved in this campaign (so far seems to always be 'Human')"
											},
											"message": {
												"bsonType": "object",
												"description": "The localized message from Super Earth about the global event",
												"properties": {
													"de": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in de-DE"
													},
													"en": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in en-US"
													},
													"es": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in es-ES"
													},
													"fr": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in fr-FR"
													},
													"it": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in it-IT"
													},
													"pl": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in pl-PL"
													},
													"ru": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in ru-RU"
													},
													"zh": {
														"bsonType": "string",
														"description": "The message from Super Earth about the global event in zh-Hans"
													}
												},
												"required": [
													"de",
													"en",
													"es",
													"fr",
													"it",
													"pl",
													"ru",
													"zh"
												]
											}
										},
										"required": [
											"title",
											"effects",
											"message",
											"planet_ids",
											"race"
										]
									}
								}
							},
							"required": [
								"_id",
								"active_election_policy_effects",
								"community_targets",
								"impact_multiplier",
								"global_events"
							]
						}
					}
				},
				"required": [
					"_id",
					"capitals",
					"planet_permanent_effects",
					"start_date",
					"end_date",
					"planets",
					"history"
				]
			}
		},
		"validationLevel": "strict",
		"validationAction": "error"
	}
]
